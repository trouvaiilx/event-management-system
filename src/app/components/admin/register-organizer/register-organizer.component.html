<!-- src/app/components/admin/register-organizer/register-organizer.component.html -->

<div class="register-organizer-container">
  <app-navbar></app-navbar>

  <div class="content">
    <div class="page-header">
      <button mat-icon-button (click)="onCancel()">
        <mat-icon>arrow_back</mat-icon>
      </button>
      <div>
        <h1>Register Event Organizer</h1>
        <p class="subtitle">Add a new event organizer to the system</p>
      </div>
    </div>

    <mat-card>
      <mat-card-content>
        <form [formGroup]="organizerForm" (ngSubmit)="onSubmit()">
          <div class="form-row">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Full Name</mat-label>
              <input 
                matInput 
                formControlName="fullName" 
                placeholder="Enter organizer's full name"
                required
              >
              <mat-icon matPrefix>person</mat-icon>
              <mat-error *ngIf="f['fullName'].hasError('required')">
                Full name is required
              </mat-error>
              <mat-error *ngIf="f['fullName'].hasError('minlength')">
                Name must be at least 3 characters
              </mat-error>
            </mat-form-field>
          </div>

          <div class="form-row">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Email Address</mat-label>
              <input 
                matInput 
                type="email"
                formControlName="email" 
                placeholder="Enter email address"
                required
              >
              <mat-icon matPrefix>email</mat-icon>
              <mat-error *ngIf="f['email'].hasError('required')">
                Email is required
              </mat-error>
              <mat-error *ngIf="f['email'].hasError('email')">
                Please enter a valid email address
              </mat-error>
              <mat-hint>An automated email with login credentials will be sent to this address</mat-hint>
            </mat-form-field>
          </div>

          <div class="form-row">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Phone Number</mat-label>
              <input 
                matInput 
                type="tel"
                formControlName="phoneNumber" 
                placeholder="Enter phone number"
                required
              >
              <mat-icon matPrefix>phone</mat-icon>
              <mat-error *ngIf="f['phoneNumber'].hasError('required')">
                Phone number is required
              </mat-error>
              <mat-error *ngIf="f['phoneNumber'].hasError('pattern')">
                Please enter a valid phone number
              </mat-error>
            </mat-form-field>
          </div>

          <div class="form-row">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Organization Name (Optional)</mat-label>
              <input 
                matInput 
                formControlName="organizationName" 
                placeholder="Enter organization name"
              >
              <mat-icon matPrefix>business</mat-icon>
            </mat-form-field>
          </div>

          <div class="info-box">
            <mat-icon>info</mat-icon>
            <div>
              <strong>Important:</strong>
              <p>A default password will be generated and sent to the organizer's email.</p>
              <p>The organizer will be required to change their password upon first login.</p>
            </div>
          </div>

          <div class="button-group">
            <button 
              mat-raised-button 
              color="primary" 
              type="submit"
              [disabled]="loading || organizerForm.invalid"
            >
              <mat-spinner 
                *ngIf="loading" 
                diameter="20" 
                class="button-spinner"
              ></mat-spinner>
              <span *ngIf="!loading">
                <mat-icon>person_add</mat-icon>
                Register Organizer
              </span>
            </button>

            <button 
              mat-button 
              type="button"
              (click)="onReset()"
              [disabled]="loading"
            >
              <mat-icon>refresh</mat-icon>
              Reset
            </button>

            <button 
              mat-button 
              type="button"
              (click)="onCancel()"
              [disabled]="loading"
            >
              <mat-icon>cancel</mat-icon>
              Cancel
            </button>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
</div>